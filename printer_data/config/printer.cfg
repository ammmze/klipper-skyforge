########################################### \
######## MAIN PRINTER CONFIG FILE #########  + --> Entry file to configure your printer configuration :)
########################################### /

# This file is yours! Feel free to edit it in order to include all
# the needed components (adapted to your machine). Also, keep in mind
# that it will not be erased when updating the config using moonraker
# and it will be kept as you've set it.

# ----------------------------------------------------------------------------------------


#-------------------------#
#   HARDWARE COMPONENTS   #
#-------------------------#

# ---------------------------------------------------------------- PRINTER KINEMATICS ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/kinematics/cartesian.cfg]   # ex. Ender3, Prusa, ...
[include config/kinematics/corexy.cfg]      # ex. Voron v2, Trident, ...
# [include config/kinematics/corexz.cfg]      # ex. Voron Switchwire, ...
# ----------------------------------------------------------------------------------------


# ---------------------------------------------------------------------- MACHINE AXIS ----> Select only one line for each axis
### X axis -------------------------------------------------------------------------------
[include config/hardware/axis/X/1.8deg.cfg]
# [include config/hardware/axis/X/0.9deg.cfg]
### Y axis -------------------------------------------------------------------------------
[include config/hardware/axis/Y/1.8deg.cfg]
# [include config/hardware/axis/Y/0.9deg.cfg]
### Z axis -------------------------------------------------------------------------------
[include config/hardware/axis/Z/V2.4_stock_1.8deg.cfg]

# [include config/hardware/axis/Z/V2.4_galileoZ_1.8deg.cfg]
# [include config/hardware/axis/Z/V2.4_galileo2Z_1.8deg.cfg]

# [include config/hardware/axis/Z/Trident_TR8x8_1.8deg.cfg]
# [include config/hardware/axis/Z/Trident_TR8x4_1.8deg.cfg]
# [include config/hardware/axis/Z/Trident_TR8x2_1.8deg.cfg]

# [include config/hardware/axis/Z/V0_TR8x8_1.8deg.cfg]
# [include config/hardware/axis/Z/V0_TR8x4_1.8deg.cfg]

# [include config/hardware/axis/Z/TriZero_1.8deg.cfg]
# [include config/hardware/axis/Z/TriZero_0.9deg.cfg]

# [include config/hardware/axis/Z/VSW_1.8deg.cfg]
# [include config/hardware/axis/Z/VSW_0.9deg.cfg]
# ----------------------------------------------------------------------------------------


# ---------------------------------------------------------------- PRINTER DIMENSIONS ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/hardware/axis/size/120mm.cfg]
# [include config/hardware/axis/size/180mm.cfg]
# [include config/hardware/axis/size/250mm.cfg]
# [include config/hardware/axis/size/300mm.cfg]
[include config/hardware/axis/size/350mm.cfg]
# [include config/hardware/axis/size/VSW_MK52.cfg]

### These are global default sizes for common machines. If you need to specify a custom size,
### use your overrides.cfg file instead.
# ----------------------------------------------------------------------------------------


# -------------------------------------------------------------------------- EXTRUDER ----> Select only one line
### 1. Motors configuration --------------------------------------------------------------
# [include config/hardware/extruder/cw1.cfg]
# [include config/hardware/extruder/cw2.cfg]
# [include config/hardware/extruder/galileo.cfg]
[include config/hardware/extruder/galileo2.cfg]
# [include config/hardware/extruder/lgx_heavy.cfg]
# [include config/hardware/extruder/lgx_lite.cfg]
# [include config/hardware/extruder/orbiter2.0.cfg]
# [include config/hardware/extruder/sherpa_mini.cfg]
# [include config/hardware/extruder/vz_hextrudort.cfg]
# ----------------------------------------------------------------------------------------


# ------------------------------------------------------------------------ HEATED BED ----
### --------------------------------------------------------------------------------------
[include config/hardware/bed_heaters/keenovo.cfg] # Used for most machines with NTC100K bed temperature sensors
# [include config/hardware/bed_heaters/creality.cfg] # For machines with EPCOS 100k sensors like creality, etc...
# ----------------------------------------------------------------------------------------


# ----------------------------------------------------------------------------- PROBE ----> Select only one line
### --------------------------------------------------------------------------------------
## No probe installed, like on a stock Voron V0 or equivalent
# [include config/hardware/probes/no_probe.cfg]

## Inductive probes, like on stock 2.4 or Trident printers (available also in virtual Z endstop variant)
# [include config/hardware/probes/inductive.cfg]
# [include config/hardware/probes/inductive_virtual.cfg]

## Dockable probes, like Klicky, Euclid or equivalent (available also in virtual Z endstop variant)
# [include config/hardware/probes/dockable.cfg]
# [include config/hardware/probes/dockable_virtual.cfg]

## Voron TAP, also used naturally as a virtual Z endstop
# [include config/hardware/probes/voron_tap.cfg]

## BLTouch probe also used as virtual Z endstop
# [include config/hardware/probes/bltouch_virtual.cfg]

## Beacon probe also used as virtual Z endstop. Do not forget to install the plugin and add the [beacon] section to make it work!
# [include config/hardware/probes/beacon_virtual.cfg]

## Cartographer Survey probe also used as virtual Z endstop. Do not forget to install the plugin and add the [scanner] section to make it work!
[include config/hardware/probes/cartographer_survey.cfg]
[include cartographer.cfg]
# ----------------------------------------------------------------------------------------


# ------------------------------------------------------------------------------ FANS ----> You can select multiple lines
### --------------------------------------------------------------------------------------
[multi_pin part_fan]
pins: toolhead:PART_FAN1, toolhead:PART_FAN2
# [include config/hardware/fans/hotend_fan.cfg]
[include config/hardware/fans/part_fan.cfg]

[include config/hardware/fans/hotend_fan_tachometer.cfg] # When having a tachometer monitoring hotend fan speed
# [include config/hardware/fans/part_fan_tachometer.cfg] # When having a tachometer monitoring part fan speed

# [include config/hardware/fans/controller_fan.cfg]
# [include config/hardware/fans/rpi_fan.cfg]
# ----------------------------------------------------------------------------------------


# ---------------------------------------------------------------------------- SERVOS ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/hardware/servos/probe_servo.cfg]
# [include config/hardware/servos/purgeclean_servo.cfg]
# [include config/hardware/servos/shared_probepurge_servo.cfg] # If one servo is used for both probe dock and purge bucket
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------------------- DISPLAY ----> Select only one line
### --------------------------------------------------------------------------------------
### If using a display and an MCU board from the same brand (ie. a BTT display
### on a BTT board, or a Fysetc display on a Fysetc board), please use the file
### that correspond to your display brand in the following lines:
# [include config/hardware/displays/BTT_mini12864.cfg]
# [include config/hardware/displays/Fysetc_mini12864.cfg]
# [include config/hardware/displays/Fysetc_mini12864_v1.2_v2.0.cfg]

### As BTT and Fysetc have done the wiring exactly the opposite on their boards, if you are mixing
### the brands (ie. a BTT display on a Fysetc board, or the opposite), please use the file
### that correspond to your display brand in the following lines. Also you may have to
### rotate connectors 180 degree according to this documentation: https://docs.vorondesign.com/build/electrical/mini12864_klipper_guide.html
# [include config/hardware/displays/BTT_mini12864_inversed.cfg]
# [include config/hardware/displays/Fysetc_mini12864_inversed.cfg]
# [include config/hardware/displays/Fysetc_mini12864_v1.2_v2.0_inversed.cfg]

### For a V0 display with an integrated MCU, don't forget to override the MCU serial port in your overrides.cfg file
# [include config/hardware/displays/V0_display.cfg]
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------- TEMPERATURE SENSORS ----> You can select multiple lines
### --------------------------------------------------------------------------------------
[include config/hardware/temperature_sensors/rpi_temp.cfg]
[include config/hardware/temperature_sensors/mcu_temp.cfg]
[include config/hardware/temperature_sensors/toolhead_mcu_temp.cfg]
[include config/hardware/temperature_sensors/scanner_mcu_temp.cfg]
# [include config/hardware/temperature_sensors/cabinet_temp.cfg]
# [include config/hardware/temperature_sensors/chamber_temp.cfg]
# [include config/hardware/temperature_sensors/chamber_temp_ds18b20.cfg] # Specific for DS18B20 directly connected to the Pi
# [include config/hardware/temperature_sensors/chamber_temp_toolhead.cfg] # This is to use a toolhead integrated temperature sensor (or an external one as it's done on the LDO Nitehawk)
# ----------------------------------------------------------------------------------------


# ------------------------------------------------------------------- LIGHTS AND LEDS ----
### --------------------------------------------------------------------------------------
[include config/hardware/lights/fcob_white.cfg]
# [include config/hardware/lights/neopixel_caselight.cfg]
# [include config/hardware/lights/status_leds.cfg] # Standard StealthBurner style LEDs
# [include config/hardware/lights/status_leds_rainbow_barf.cfg] # Rainbow Barf StealthBurner style LEDs

# The following files are to be used with the LED effect plugin: https://github.com/julianschill/klipper-led_effect
# [include config/hardware/lights/neopixel_caselight_effects.cfg]
[include config/hardware/lights/status_leds_effects.cfg] # Standard StealthBurner style LEDs
# [include config/hardware/lights/status_leds_rainbow_barf_effects.cfg] # Rainbow Barf StealthBurner style LEDs
# ----------------------------------------------------------------------------------------

# ------------------------------------------------------------------ FILAMENT SENSORS ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/hardware/filament_sensors/motion_sensor.cfg]
# [include config/hardware/filament_sensors/switch_sensor.cfg]
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------------- ACCELEROMETER ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/hardware/accelerometers/adxl345_rpi.cfg] # For ADXL plugged directly on the Pi (official and recommended way)
# [include config/hardware/accelerometers/adxl345_usb.cfg] # For KUBSA, ...
# [include config/hardware/accelerometers/adxl345_usb_rampon.cfg] # For KUBSA with Rampon firmware, ...
# [include config/hardware/accelerometers/adxl345_usb_rp2040_spi1.cfg] # For Fysetc PortableInputShaper, ...
# [include config/hardware/accelerometers/adxl345_Fystec_NIS.cfg] # For USB Nozzle Input Shapers
# [include config/hardware/accelerometers/adxl345_skr.cfg] # For ADXL plugged in SKRv1.4 (not a conventional way)

# [include config/hardware/accelerometers/adxl345_sb2040.cfg] # For ADXL plugged in Mellow Fly-SB2040 boards
# [include config/hardware/accelerometers/adxl345_ebb.cfg] # For ADXL plugged in BTT EBB36 or EBB42 boards
# [include config/hardware/accelerometers/adxl345_sht.cfg] # For ADXL plugged in Mellow SHT36 or SHT42 boards
# [include config/hardware/accelerometers/adxl345_BTT_SB22xx.cfg] # For ADXL plugged in BTT SB2209 or SB2240 boards
# [include config/hardware/accelerometers/adxl345_Fysetc_SB_Can_TH.cfg] # For ADXL plugged in Fysetc SB Can TH boards
# [include config/hardware/accelerometers/adxl345_nitehawk_sb.cfg] # For built in ADXL sensor on the Nitehawk SB board
# [include config/hardware/accelerometers/adxl345_Fysetc_H36_v1.x.cfg] # For ADXL plugged in Fysetc H36 v1.x boards

# [include config/hardware/accelerometers/lis2dw_usb_rp2040_spi1.cfg] # For BTT S2DW V1.0, ...

# [include config/hardware/accelerometers/beacon_accelerometer.cfg] # For Beacon Rev H make sure Beacon. Do not forget to include the beacon_virtual_probe in the PROBE section!

[include config/hardware/accelerometers/cartographer_adxl_accelerometer.cfg] # For Cartographer with adxl (V4). Do not forget to include the cartographer_survey in the PROBE section!
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------------------- FILTERS ----> You can select multiple lines
### --------------------------------------------------------------------------------------
# [include config/hardware/filters/exhaust_filter.cfg]
[include config/hardware/filters/nevermore_filter.cfg]

[temperature_fan exhaust_fan]
pin: EXHAUST_FAN
max_power: 1.0
shutdown_speed: 0.0
kick_start_time: 5.0
cycle_time:0.01
off_below:0.1
sensor_type: Generic 3950
sensor_pin: CHAMBER_TEMPERATURE
min_temp: 0
max_temp: 90
target_temp: 35.0
control: watermark
gcode_id: C
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------------------- MMU/ERCF ----> You need to select both lines or none
### --------------------------------------------------------------------------------------
### Klippain is designed to be used with the MMU/ERCF HappyHare software backend: https://github.com/moggieuk/Happy-Hare
### Please refer to the corresponding Klippain documentation: https://github.com/Frix-x/klippain/blob/main/docs/mmu.md
[include mmu/base/*.cfg]
[include config/hardware/mmu.cfg]
[include mmu/optional/client_macros.cfg]
[include mmu/addons/blobifier.cfg]
# ----------------------------------------------------------------------------------------


#---------------------------------#
#   KLIPPER SOFTWARE COMPONENTS   #
#---------------------------------#

# -------------------------------------------------------------------------- BED MESH ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/software/bed_mesh/bed_mesh_120mm.cfg]
# [include config/software/bed_mesh/bed_mesh_180mm.cfg]
# [include config/software/bed_mesh/bed_mesh_250mm.cfg]
# [include config/software/bed_mesh/bed_mesh_300mm.cfg]
[include config/software/bed_mesh/bed_mesh_350mm.cfg]
# [include config/software/bed_mesh/bed_mesh_mk52.cfg]

### If you need to specify a bed mesh configuration for a custom sized printer, use your
### overrides.cfg file instead. These defaults are only made for common machines sizes
# ----------------------------------------------------------------------------------------


# ----------------------------------------------------------------- SENSORLESS HOMING ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/software/sensorless_homing/sensorless_TMC2209.cfg]
# [include config/software/sensorless_homing/sensorless_BTT_TMC2240.cfg]
# [include config/software/sensorless_homing/sensorless_MKS_TMC2240.cfg]

### Follow the Klipper documentation here: https://www.klipper3d.org/TMC_Drivers.html#sensorless-homing
### to find the best suited SGTHRS value according to your machine. Then add this value to your
### overrides.cfg as stated in the config/software/sensorless_homing.cfg file!
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------- FIRMWARE RETRACTION ----
### --------------------------------------------------------------------------------------
[include config/software/firmware_rectraction.cfg]
# ----------------------------------------------------------------------------------------


# ---------------------------------------------------------------------- INPUT SHAPER ----
### --------------------------------------------------------------------------------------
# [include config/software/input_shaper.cfg] # Don't forget to calibrate it!

### CaliFlower is the default profile name. But can be customized with user variables.
### See: https://www.printables.com/model/682023-califlower-calibration-stl-calculator
# ----------------------------------------------------------------------------------------


# ------------------------------------------------------------------- SKEW CORRECTION ----
### --------------------------------------------------------------------------------------
[include config/software/skew_correction.cfg] # Don't forget to calibrate it!
# ----------------------------------------------------------------------------------------


# --------------------------------------------------------------------------- TILTING ----> Select only one line
### --------------------------------------------------------------------------------------
# [include config/software/tilting/qgl_180mm.cfg]
# [include config/software/tilting/qgl_250mm.cfg]
# [include config/software/tilting/qgl_300mm.cfg]
[include config/software/tilting/qgl_350mm.cfg]

# [include config/software/tilting/z_tilt_120mm.cfg]
# [include config/software/tilting/z_tilt_250mm.cfg]
# [include config/software/tilting/z_tilt_300mm.cfg]
# [include config/software/tilting/z_tilt_350mm.cfg]

# [include config/software/tilting/bedscrews_120mm.cfg]

### If you need to specify a tilting configuration for a custom sized printer, use your
### overrides.cfg file instead. These defaults are only made for common machines sizes
# ----------------------------------------------------------------------------------------


# ---------------------------------------------------------------- AUTO Z CALIBRATION ----
### --------------------------------------------------------------------------------------
### This does work only with dockable probes types (it doesn't work with Voron TAP or virtual probes)
### Also don't forget to install the plugin from here: https://github.com/protoloft/klipper_z_calibration
# [include config/software/z_calibration.cfg]
# ----------------------------------------------------------------------------------------


# -------------------------------------------------------------------------- SPOOLMAN ----
### --------------------------------------------------------------------------------------
### You must have the Spoolman plugin installed... from here: https://github.com/Donkie/Spoolman
# [include config/software/spoolman.cfg]
# ----------------------------------------------------------------------------------------

[input_shaper]
#shaper_type_x: mzv
#shaper_freq_x: 66.4
#shaper_type_y: mzv
#shaper_freq_y: 35.4

[printer]
max_accel: 12000
max_velocity: 400

###################################
### DO NOT EDIT BELOW THIS LINE ###
###################################
[include variables.cfg]
[include mcu.cfg]
[include nevermore.cfg]
[include overrides.cfg]
[include overrides.d/*.cfg]

[include moonraker_obico_macros.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.064023, 0.060612, 0.065177, 0.072896, 0.069729, 0.066559, 0.066110, 0.052346, 0.040918, 0.047794, 0.057712, 0.058025, 0.062797, 0.061718, 0.064761, 0.073322, 0.072685
#*# 	  0.053806, 0.047644, 0.052580, 0.059974, 0.054415, 0.053966, 0.050783, 0.036958, 0.028243, 0.037886, 0.044720, 0.048115, 0.052539, 0.046256, 0.048940, 0.057514, 0.060147
#*# 	  0.043712, 0.040632, 0.043856, 0.050252, 0.047069, 0.046620, 0.043429, 0.032346, 0.018103, 0.026383, 0.037355, 0.040747, 0.041028, 0.037479, 0.038774, 0.047697, 0.048594
#*# 	  0.039263, 0.036177, 0.040783, 0.045816, 0.039884, 0.039779, 0.039330, 0.025119, 0.016374, 0.024661, 0.027698, 0.033500, 0.036534, 0.028788, 0.031802, 0.043177, 0.044067
#*# 	  0.035145, 0.031709, 0.036327, 0.042744, 0.038178, 0.034979, 0.034530, 0.023397, 0.012209, 0.017737, 0.023539, 0.026224, 0.032027, 0.027039, 0.028653, 0.041432, 0.042319
#*# 	  0.030671, 0.021694, 0.029444, 0.034509, 0.029753, 0.030856, 0.027648, 0.015085, 0.002117, 0.010442, 0.015902, 0.019262, 0.025065, 0.019695, 0.025498, 0.036892, 0.039170
#*# 	  0.023414, 0.022733, 0.022535, 0.032448, 0.028205, 0.029136, 0.028687, 0.016125, 0.003156, 0.011139, 0.014499, 0.017514, 0.023316, 0.020735, 0.023736, 0.037932, 0.038812
#*# 	  0.022024, 0.015790, 0.020798, 0.025720, 0.019899, 0.021880, 0.019001, 0.007433, -0.001390, 0.006949, 0.009960, 0.015762, 0.019120, 0.016174, 0.022322, 0.033730, 0.040026
#*# 	  0.020289, 0.016830, 0.019062, 0.026587, 0.020597, 0.022920, 0.022471, 0.010914, 0.000000, 0.010776, 0.013791, 0.019249, 0.022604, 0.020364, 0.025815, 0.037567, 0.043686
#*# 	  0.024557, 0.017981, 0.021773, 0.025659, 0.019658, 0.021984, 0.021534, 0.007179, -0.001304, 0.012270, 0.018073, 0.023875, 0.029334, 0.027106, 0.030110, 0.041505, 0.050759
#*# 	  0.026407, 0.025555, 0.028128, 0.032866, 0.029998, 0.029202, 0.029100, 0.017553, 0.005958, 0.019856, 0.025659, 0.033897, 0.037092, 0.037500, 0.037723, 0.049104, 0.056955
#*# 	  0.033796, 0.024800, 0.032570, 0.037648, 0.031671, 0.033988, 0.033538, 0.022351, 0.010769, 0.024483, 0.030457, 0.038692, 0.044494, 0.039520, 0.047764, 0.059126, 0.064189
#*# 	  0.039962, 0.035135, 0.038736, 0.045182, 0.041977, 0.041528, 0.041079, 0.029575, 0.018362, 0.032226, 0.040450, 0.046252, 0.052055, 0.051271, 0.055686, 0.069462, 0.073137
#*# 	  0.046122, 0.039920, 0.044896, 0.049954, 0.043652, 0.046304, 0.043099, 0.031942, 0.025941, 0.039433, 0.042816, 0.048272, 0.056840, 0.054337, 0.065679, 0.077009, 0.080684
#*# 	  0.050898, 0.049872, 0.052423, 0.057297, 0.051181, 0.051076, 0.050627, 0.041911, 0.033166, 0.046974, 0.050017, 0.053058, 0.061968, 0.064662, 0.069255, 0.086951, 0.086668
#*# 	  0.063564, 0.054989, 0.057192, 0.059145, 0.051997, 0.055501, 0.052302, 0.041169, 0.038301, 0.048994, 0.054796, 0.057840, 0.066401, 0.063917, 0.078005, 0.092064, 0.094365
#*# 	  0.065044, 0.061624, 0.066560, 0.066111, 0.057609, 0.059731, 0.056539, 0.045431, 0.039461, 0.053242, 0.059045, 0.064502, 0.070649, 0.070944, 0.076746, 0.093551, 0.096882
#*# x_count = 17
#*# y_count = 17
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 93.0
#*# max_x = 257.0
#*# min_y = 93.0
#*# max_y = 257.0
#*#
#*# [skew_correction CaliFlower]
#*# xy_skew = 0.0014100155699668729
#*# xz_skew = 0.0
#*# yz_skew = 0.0
#*#
#*# [axis_twist_compensation]
#*# z_compensations = -0.012010, -0.016827, -0.020004, 0.021037, 0.027804
#*# compensation_start_x = 35.0
#*# compensation_end_x = 325.0
#*# zy_compensations = 0.017675, -0.013514, -0.006693, 0.006560, -0.004027
#*# compensation_start_y = 25.0
#*# compensation_end_y = 294.0
#*#
#*# [input_shaper]
#*# shaper_type_x = mzv
#*# shaper_freq_x = 54.0
#*# shaper_type_y = mzv
#*# shaper_freq_y = 35.4
#*#
#*# [cartographer scan_model default]
#*# coefficients = 1.4154387451079828,1.90941583679217,0.8228966673399699,0.26642463935209654,0.5361429437729114,0.9234383522295898,-0.3787623117398384,-0.9632848647172274,0.4053634519914767,0.5671641596200343
#*# domain = 3.172396913271261e-07,3.3077613569529336e-07
#*# z_offset = 0
#*# reference_temperature = 25.88
#*# software_version = 1.3.3
#*# mcu_version = CARTOGRAPHER 5.1.0
#*#
#*# [cartographer]
#*# z_backlash = 0.00634
#*#
#*# [cartographer touch_model default]
#*# threshold = 1514
#*# speed = 2.0
#*# z_offset = -0.025
#*# software_version = 1.3.3
#*# mcu_version = CARTOGRAPHER 5.1.0
